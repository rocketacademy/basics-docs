# 6.3 DOM Manipulation

## Learning Objectives:

By the end of this lesson, you should be able to:

* [ ] Create, select and manipulate HTML elements using DOM-related methods.
* [ ] Write JavaScript logic that manipulates the DOM based on user input.

## Introduction

We have seen how we can manipulate the DOM via JavaScript in the console. Now let's take a look at how we can pre-program DOM manipulation to happen based on user input.

Conceptually, we are still just defining **inputs** and **outputs.** Now inputs include how the user interacts with the browser, which can include mouseovers, scrolls, drag and drops, clicks or double clicks, and output is manipulation of the Document that the user is interacting with.

## Inputs and Outputs

#### Defining an Input

An input to our JavaScript program is called an **event**. Similar to how we can define functions as blocks of code that will only run when the function is called, we can write code that will only run when the user interacts with the browser via an **event**. We do this with the provided `.addEventListener(`) method.  The method takes in 2 inputs:&#x20;

1. The [event type](https://developer.mozilla.org/en-US/docs/Web/Events)
2. The code block to be executed when the event is triggered, **defined as a function**.

Let's go back to basics, and print out "Hello, world!" in the console whenever a button is clicked. The syntax for that might look something like this:

```javascript
var newButton = document.createElement("button");
newButton.innerText = "Hello";
newButton .addEventListener("click", function() {console.log("hello, world!")});
document.body.appendChild(newButton);
```

This means we can program the browser in such a way that when the user makes an action, the browser calls our function - and this is exactly how our `main` function works. Except that we aren't just limited to clicking on the submit button or getting the value the user typed into an input field/textbox.

The function for an event is referred to as a _**callback**_ function. In the case of an event listener, the callback function takes the triggered event as an input parameter and does whatever actions it was declared to do due to this trigger. Now we can look at how this was defined for you in index.html of the starter code:

```javascript
<script>
      // Declare and define a variable that represents the Submit Button
      
      var button = document.querySelector("#submit-button");
      
      // When the submit button is clicked, access the text entered 
      // by the user in the input field
      
      // And pass it as an input parameter to the main function as 
      // defined in script.js
      
      button.addEventListener("click", function () {
      
        // Set result to input value
        var input = document.querySelector("#input-field");
        
        // Store the output of main() in a new variable
        var result = main(input.value);

        // Display result in output element
        var output = document.querySelector("#output-div");
        
        output.innerHTML = result;

        // Reset input value
        input.value = "";
      });
      
  </script>
```



#### Complete Applications with DOM

This level of functionality simply expands the set of tools you have to represent things in your app.

A hand of cards can be represented by a `div` that contains a set of images. Or by a `li` (list) element.

Getting a hold of user actions for a given point in the program can mean many different things.

Hit or stand can mean your program creates a button to be clicked for that given "mode".

## Advanced Applications in the Browser

The pattern of:

1. Being able to create any representation of data on the screen
2. Have complete control over what actions the user can take at any time&#x20;

means that your app should have complete control over every element on the screen.

Modern development for applications that run in the browser ( the browser is the front-end ) are libraries and frameworks that allow programmers to manage all of these elements and inputs.

Some popular libraries include [ReactJS](https://reactjs.org), [Angular](https://angular.io), and [Vue](https://vuejs.org).

## Further Info

### Grab Any Element

To review how element selection works, see the simple examples [on this page.](6.1-html-css-referencing.md)

Look up how to get a reference to any element: [https://www.w3schools.com/jsref/met\_document\_queryselector.asp](https://www.w3schools.com/jsref/met\_document\_queryselector.asp)

### Get Any Input

Look up how to "listen" for any event: [https://www.w3schools.com/jsref/met\_document\_addeventlistener.asp](https://www.w3schools.com/jsref/met\_document\_addeventlistener.asp)

You will also see this syntax:

```javascript
button.addEventListener('click', function () {
  console.log('clicked');
});
```

This syntax sets the function without making a separate variable out of it.

### Make Any Output

Create an element: [https://www.w3schools.com/jsref/met\_document\_createelement.asp](https://www.w3schools.com/jsref/met\_document\_createelement.asp)

Add it to the page with `appendChild`: [https://www.w3schools.com/jsref/met\_node\_appendchild.asp](https://www.w3schools.com/jsref/met\_node\_appendchild.asp)

## Starter Code

The DOM manipulation code in the starter code is inside the `index.html`.

Read through the comments to see what's actually happening.

```markup
<p>
    <input id="starter-ex"/>
</p>
<button id="starter-button">submit me</button>
```

```javascript
// make a variable out of the input and button
var input = document.querySelector('#starter-ex');
var button = document.querySelector('#starter-button');

// call this function
var myButtonClicked = function () {
  // get the current value that's been typed into the input
  var typedValue = input.value;

  // create a new h2
  var newHtwo = document.createElement('h2');

  // set the text inside this new element
  newHtwo.innerText = typedValue;

  // make the h2 appear on screen
  document.body.appendChild(newHtwo);

  // empty out the HTML input
  input.value = '';
};

// say which function to call *when* the user clicks the button
button.addEventListener('click', myButtonClicked);
```

## Exercises

### Follow Along

1. Implement the above code.&#x20;
2. Using basics-starter-code, write logic that grabs and references HTML elements, and change the background color of the `container` element every time the submit button is clicked. See an example of this [here](https://rocketacademy.github.io/basics-starter-code/dom/colours/index.html).
